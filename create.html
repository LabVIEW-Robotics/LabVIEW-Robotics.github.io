---
layout: default
permalink: /create/
links:
-
  url: http://sine.ni.com/nips/cds/view/p/lang/en/nid/210232
  name: Create Package
-
  url: http://labviewhacker.com
  name: LabVIEW Hacker
-
  url: https://www.youtube.com/watch?v=Hz_Ct3RXXGk
  name: Wireless Control
-
  url: https://www.youtube.com/watch?v=A4ZEILTdJ1s
  name: Hill Climbing
---

<h2 class="blog-post-title">Controlling an iRobot Create</h2>
<p>LabVIEW provides express VI's for controlling an iRobot, created by 
<a href="http://labviewhacker.com/">LabVIEW Hacker</a>. This page will provide 
an introduction to controlling the iRobot from a labtop running LabVIEW 2014. 
For this tutorial you will need:
<ol>
  <li>Computer Running Windows</li>
  <li>iRobot Create</li>
  <li>USB to Serial connector</li>
</ol>
</p>
<h2 class="blog-post-title">Getting Started</h2>
<h3>Hardware</h3>
<p>
Connect the USB to Serial connector to the 7 Pin connector 
on the create. Depending on your version of windows 
you may need to revert the driver that is installed 
when the USB to Serial connector is plugged in. You can download 
a working version of the driver <a href="/Profilic_Win8_x64_x86.zip">here</a>.
</p>
<h3>Software</h3>
<p>To install the iRobot LabVIEW express VI's, first open the 
LabVIEW VI package manager (VIPM), which can then be used to download and 
install the iRobot Create package.</p>
<img style="max-width: 100%;" src="/images/vipm.PNG"/>

<p>Once installed, you should see the a new category for iRobot on the Front Panel and Block Diagram toolbars.</p>

<img style="max-width: 100%;" src="/images/irobot_control.PNG"/>  

<h2 class="blog-post-title">Drive in a Square Example</h2>
<p>When the iRobot package was installed, a set of example VI's were also installed. 
Here we will look at the drive in a square example to get started. The examples will typically be 
located in the folder: C:\Program Files (x86)\National Instruments\LabVIEW 2014\examples\National Instruments\iRobot Create\Examples 
<br>
Open the Example Square VI. This VI consists of a front panel with a UART port control, a max wheel speed for 
robot velocity, and a side length to control the size of the square the robot will drive in. The block diagram 
is shown below.</p>
<img style="max-width: 100%;" src="/images/irobot_vi.PNG"/>
<p>There are several iRobot express VI's used in the example. The UART port control <span><img src="/images/robot_port.PNG"></span> 
passes a UART port such as "COM3" to the iRobot Create Open express VI <span><img src="/images/robot_open.PNG"></span>. 
If there are no errors connecting and initializing the Create, the UART port is then 
passed into a Command Loop which corresponds most closely with a While loop. The Drive Sequence can be though of as 
a For loop, with the index looping from zero to one. When the index is zero the robot drive straight, when the index is one 
the robot turns. After the motor command <span><img src="/images/robot_motor.PNG"></span> is executed for a 120 milliseconds 
the sensors are polled <span><img src="/images/robot_sensors.PNG"></span> to determine if 
the robot has driven straight or turned for the desired amount.
</p>  
