---
layout: default
permalink: /vision/
links:
-
  url: http://www.ni.com/vision/
  name: NI Vision
-
  url: http://home.hit.no/~hansha/documents/lab/Lab%20Equipment/Vision%20System/NI%20Vision%20System.pdf
  name: Helpful Tutorial
-
  url: http://sine.ni.com/psp/app/doc/p/id/psp-394/
  name: IMAQ Drivers
-
  url: http://www.youtube.com/watch?v=HdyzfuzJs-w
  name: Robot Color Tracing
-
  url: http://www.youtube.com/watch?v=U7P7pty6bnU
  name: Rubix Cube Solver
---

<h2 class="blog-post-title">NI Vision</h2>
<p>A LabVIEW vision module can be installed with LabVIEW. The Vision module gives the 
programmer access to machine vision functions. This page will show how to setup the vision 
module and an example VI to read and display a live webcam feed.</p>
<h2 class="blog-post-title">Getting Started</h2>
<p>To begin, the NI vision package will need to be downloaded and installed from NI. Next, 
in order to use a webcam to retrieve images the <a href="http://sine.ni.com/psp/app/doc/p/id/psp-394/">NI IMAQ drivers</a> 
must be installed. Once these steps are completed, the VI controls panel will contain a new category, labelled Vision.</p>
<img style="max-width: 100%;" src="/images/vision_control.PNG"/>
<p>The block diagram will have a new set of functions, labelled Vision and Motion.</p>
<p>
<img style="max-width: 100%;" src="/images/vision_functions.PNG"/>
</p>
<h2 class="blog-post-title">Webcam Example</h2>
<p>While the NI vision installation also installed some example VI's, we will not use one of those here. Here 
we will use a very basic example to demonstrate how to read from and display a live feed of 
a computers webcam, which can be downloaded <a href="/vision_test.vi">here</a>. A step by step video 
for creating the VI is found <a href="https://www.youtube.com/watch?v=aJCxJLuAhTs">here</a>. The block 
diagram for the example VI is shown below.</p>
<p>
<img style="max-width:100%;" src="/images/vision_vi.PNG"/>
</p>
<p>The example uses an IMAQ session, in this case our webcam, as input and outputs to an image display in a loop. 
The session is first passed to the Camera Open express VI <span><img src="/images/camera_open.PNG"/></span>, 
which initializes the camera. The session is then passed to the Initialize Grab VI 
<span><img src="/images/initialize_grab.PNG"/></span>, which gets the camera ready 
to take a picture. Then we enter the loop where the camera takes a picture 
<span><img src="/images/grab_image.PNG"/></span> every 50 milliseconds and sends 
it to the display. When the loop is stopped, the camera connection is closed <span><img src="/images/close_connection.PNG"/></span>.</p>
<h2 class="blog-post-title">An Easier Way!</h2>
<p>With LabVIEW, express VIs are your friend. For vision aquisition, LabVIEW offers 
a very nice express VI. The steps for using this express VI are detailed below:</p>
<p>
<ol>
<li>Create a new VI</li>
<li>In the block diagram window, right click and under Vision and Motion, 
choose Vision Express, then Vision Aquisition. 
<br>
<img style="max-width:100%;" src="/images/vision_express.PNG" />
</li>
<li>
Drop the Vision Aquisition express VI in the block diagram.
</li>
<li>
A Vision Aquisition pop-up window should appear to guide you through 
setting up the vision VI.
<img src="/images/vision_aquisition_window.PNG" style="max-width:100%;" />
</li>
<li>
You should have at least one selection under NI-IMAQdx Devices. If not then 
you need to go back and install the IMAQ drivers. Select the device and 
press the play button to test your device.
</li>
<li>
Select the Next button.
</li>
<li>
The next window allows you to choose between aquiring a single image, or multiple images. 
For this tutorial we will choose Continuous Aquisition with Inline Processing.
<img src="/images/vision_continuous.PNG" style="max-width:100%;" />
</li>
<li>
From here we could change some of the properties of our Vision Aquisition, but for 
this tutorial we will just select Finish.
</li>
<li>
Your block diagram should now be set up for vision aquisition.
<img src="/images/vision_express_block_diagram.PNG" style="max-width:100%;" />
</li>
</ol>
</p>
<h2 class="blog-post-title">Color Tracking - Vision Assistant</h2>
<p>
LabVIEW also offers a Vision Assistant VI, it is a very powerful tool. The 
steps for setting up a color tracker using the Vision Assistant VI are listed 
below. 
<ol>
<li>
Start with the VI created in the previsious section.
</li>
<li>
Right click the block diagram and select "Vision and Motion" -> "Vision Express" -> 
"Vision Assistant". 
</li>
<li>
Drop the Vision Assistant express VI onto the block diagram.
</li>
<li>
The Vision Assistant window should open.
<img src="/images/vision_assistant_window.PNG" style="max-width:100%;" />
</li>
</ol>
</p>
